<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RSA Encryption Lab</title>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>
    
    <div class="progress-steps">
        <span class="progress-step active" id="step1">1. Primes</span>
        <span class="progress-step" id="step2">2. Keys</span>
        <span class="progress-step" id="step3">3. Encrypt</span>
        <span class="progress-step" id="step4">4. Decrypt</span>
        <span class="progress-step" id="step5">5. Complete</span>
    </div>
    
    <!-- Slide 1: Prime Numbers -->
    <div class="slide active" id="slide1">
        <div class="container">
            <h1 class="title">RSA Encryption Lab</h1>
            <p class="explanation">RSA encryption starts with two distinct prime numbers. Let's pick two primes under 30:</p>
            
            <input type="number" id="prime1" placeholder="First prime (e.g., 5, 7, 11)" min="2" max="29">
            <input type="number" id="prime2" placeholder="Second prime (different from first)" min="2" max="29">
            
            <div class="nav-buttons">
                <div></div>
                <button class="arrow" onclick="nextSlide()">→</button>
            </div>
        </div>
    </div>
    
    <!-- Slide 2: Key Generation -->
    <div class="slide" id="slide2">
        <div class="container">
            <h1 class="title">Key Generation</h1>
            <div id="keyExplanation">
                <p class="typing" id="typingText">Calculating keys...</p>
            </div>
            
            <div class="final-keys" id="finalKeys" style="display: none;">
                <p>Public Key: (n, e) = <span id="publicKeyDisplay"></span></p>
                <p>Private Key: (n, d) = <span id="privateKeyDisplay"></span></p>
            </div>
            
            <div class="nav-buttons">
                <button class="arrow" onclick="prevSlide()">←</button>
                <button class="arrow" onclick="nextSlide()">→</button>
            </div>
        </div>
    </div>
    
    <!-- Slide 3: Encryption -->
    <div class="slide" id="slide3">
        <div class="container">
            <h1 class="title">Encryption</h1>
            <div class="explanation">
                <p>Now let's encrypt a message using the public key.</p>
                <p>Each character will be converted to its ASCII code, then encrypted using:</p>
                <p class="equation">encrypted = (message<sup>e</sup>) mod n</p>
            </div>
            
            <textarea id="message" placeholder="Type your message here..." rows="3"></textarea>
            
            <div class="visualization" id="encryptVisualization" style="display: none;">
                <div class="message-box" id="originalMessage"></div>
                <div>↓ Convert to ASCII codes ↓</div>
                <div class="message-box" id="asciiCodes"></div>
                <div>↓ Apply encryption formula ↓</div>
                <div class="message-box" id="encryptedResult"></div>
            </div>
            
            <div class="nav-buttons">
                <button class="arrow" onclick="prevSlide()">←</button>
                <button class="arrow" onclick="nextSlide()">→</button>
            </div>
        </div>
    </div>
    
    <!-- Slide 4: Decryption -->
    <div class="slide" id="slide4">
        <div class="container">
            <h1 class="title">Decryption</h1>
            <div class="explanation">
                <p>Now let's decrypt the message using the private key.</p>
                <p>Each encrypted number will be decrypted using:</p>
                <p class="equation">decrypted = (encrypted<sup>d</sup>) mod n</p>
                <p>Then converted back to ASCII characters.</p>
            </div>
            
            <div class="visualization" id="decryptVisualization" style="display: none;">
                <div class="message-box" id="encryptedNumbers"></div>
                <div>↓ Apply decryption formula ↓</div>
                <div class="message-box" id="decryptedAscii"></div>
                <div>↓ Convert to characters ↓</div>
                <div class="message-box" id="decryptedMessage"></div>
            </div>
            
            <div class="nav-buttons">
                <button class="arrow" onclick="prevSlide()">←</button>
                <button class="arrow" onclick="nextSlide()">→</button>
            </div>
        </div>
    </div>
    
    <!-- Slide 5: Completion -->
    <div class="slide" id="slide5">
        <div class="container">
            <h1 class="title">RSA Encryption Complete!</h1>
            <div class="explanation">
                <p>You've successfully:</p>
                <ol>
                    <li>Selected two prime numbers</li>
                    <li>Generated public and private keys</li>
                    <li>Encrypted a message</li>
                    <li>Decrypted the message</li>
                </ol>
                
                <p>In RSA, the public key can be shared with anyone to encrypt messages, but only the private key holder can decrypt them.</p>
                <p>This works because of the mathematical relationship between the keys that makes encryption easy but decryption hard without the private key.</p>
            </div>
            
            <div class="final-keys">
                <p>Public Key: (n, e) = <span id="finalPublicKey"></span></p>
                <p>Private Key: (n, d) = <span id="finalPrivateKey"></span></p>
            </div>
            
            <div class="nav-buttons">
                <button class="arrow" onclick="prevSlide()">←</button>
                <button onclick="location.reload()">Start Over</button>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>